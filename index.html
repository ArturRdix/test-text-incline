<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TEST</title>
    <style>
        [data-tilt] {
            display: inline-block;
            transition: transform 0.1s ease;
            transform-origin: center;
            will-change: transform;
        }
    </style>
</head>

<body>
    <h1 data-tilt>–ü—Ä–∏–≤–µ—Ç üëã</h1>
    <p data-tilt>–≠—Ç–æ—Ç —Ç–µ–∫—Å—Ç –±—É–¥–µ—Ç –Ω–∞–∫–ª–æ–Ω—è—Ç—å—Å—è –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞</p>
    <div class="box" data-tilt>–ú–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏ –∫ –±–ª–æ–∫–∞–º</div>
    <script>
        function initTiltEffect() {
          const tiltElements = document.querySelectorAll('[data-tilt]');
      
          function applyTilt(beta, gamma) {
            // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —É–≥–ª–æ–≤
            const rotateX = Math.min(Math.max(beta, -30), 30) / 5;   // –í–ø–µ—Ä–µ–¥-–Ω–∞–∑–∞–¥
            const rotateY = Math.min(Math.max(gamma, -30), 30) / 5;  // –í–ª–µ–≤–æ-–≤–ø—Ä–∞–≤–æ
      
            tiltElements.forEach(el => {
              el.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
            });
          }
      
          function handler(event) {
            const { beta, gamma } = event;
            applyTilt(beta, gamma);
          }
      
          // iOS —Ç—Ä–µ–±—É–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
          if (
            typeof DeviceOrientationEvent !== 'undefined' &&
            typeof DeviceOrientationEvent.requestPermission === 'function'
          ) {
            DeviceOrientationEvent.requestPermission()
              .then(permissionState => {
                if (permissionState === 'granted') {
                  window.addEventListener('deviceorientation', handler);
                }
              })
              .catch(console.error);
          } else {
            // Android –∏ –æ–±—ã—á–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã
            window.addEventListener('deviceorientation', handler);
          }
        }
      
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('DOMContentLoaded', initTiltEffect);
      </script>
      
</body>

</html>